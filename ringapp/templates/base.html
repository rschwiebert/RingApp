{% load static %}

<!DOCTYPE html>

<html>
  <head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="google-site-verification" content="pu9Z0hUTJz2dQW9bBTzX1KIiqXrlxF8XvJbVJJLPKHE" />
    <meta name="msvalidate.01" content="4C8BD9384A39B37522503D44EE509608" />
    <meta name="description" content="">
    <meta name="author" content="Ryan C. Schwiebert">
    {% block meta %}{% endblock %}
		
    <title>DaRT - {% block title %}Database of Ring Theory{% endblock %}</title>
    <link rel="icon" href="../../favicon.ico">
		
    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/bootstrap.icon-large.min.css' %}" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="{% static 'assets/css/ie10-viewport-bug-workaround.css' %}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{% static 'jumbotron.css' %}" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{% static 'assets/js/vendor/jquery.min.js' %}"><\/script>')</script>
    <script type="text/x-mathjax-config">
		  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
    </script>
    <script type="text/javascript" async
		  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
    </script>
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'favicon/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'favicon/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'favicon/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'favicon/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'favicon/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'favicon/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'favicon/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'favicon/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{% static 'favicon/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'favicon/manifest.json' %}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{% static 'favicon/ms-icon-144x144.png' %}">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header"><a class="navbar-brand" href="{% url 'index' %}">Database of Ring Theory</a>
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
        </div>
	    <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                  Rings
                  <span class="caret"></span>
                </a>
              <ul class="dropdown-menu" role="menu">
                  
                <li><a href="{% url 'ring-list' %}">Browse all rings</a></li>
                <li><a href="{% url 'search' %}">Search all rings</a></li>
                <hr />

                <li><a href="{% url 'commring-list' %}">Browse commutative rings</a></li>
                <li><a href="{% url 'csearch' %}">Search commutative rings</a></li>
                <hr />
                <li><a href="{% url 'property-list'%}">Browse ring properties</a></li>
                <li><a href="{% url 'commproperty-list'%}">Browse commutative ring properties</a></li>
                <hr />
                <li><a href="{% url 'ksearch' %}">Search rings by keyword</a></li>
                <li><a href="{% url 'dimension-list' %}">Browse rings by dimension</a></li>
              </ul>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                  Modules
                  <span class="caret"></span>
                </a>
              <ul class="dropdown-menu" role="menu">

                <li><a href="{% url 'module-list' %}">Browse all modules</a></li>
                <li><a href="{% url 'module-search' %}">Search all modules</a></li>
                <hr />

                <li><a href="{% url 'module-property-list'%}">Browse module properties</a></li>
<!--                <hr />-->
<!--                <li><a href="{% url 'ksearch' %}">Search rings by keyword</a></li>-->
<!--                <li><a href="{% url 'dimension-list' %}">Browse rings by dimension</a></li>-->
              </ul>
            </li>
            <li id="theoremsNav"><a href="{% url 'theorem-list'%}">Theorems</a></li>
            <li id="bibliographyNav"><a href="{% url 'bibliography'%}">Citations</a></li>
            <li id="contribNav"><a href="{% url 'contribute'%}">Contribute</a></li>
            <li id="resourcesNav"><a href="{% url 'resources'%}">Learn</a></li>
            <li id="faqNav"><a href="{% url 'faq'%}">FAQ</a></li>

            <li> {% if not request.user.is_authenticated %}<a class="btn btn-primary"
                                                              href="{% url 'auth_login' %}"><font
                    color="white">Login</font></a>{% else %}<a class="btn btn-primary"
                                                               href="{% url 'auth_logout' %}"><font
                    color="white">Logout</font></a></li>
            <li><a class="btn btn-primary" href="{% url 'profile' %}"><font color="white">Profile</font> <span id="notifCount" class="badge badge-danger"></span></a></li>
            {% endif %}
          </ul>

	  <!--<form class="navbar-form navbar-right">
          <div class="form-group">
	    <input type="text" placeholder="Email" class="form-control">
          </div>
	  <div class="form-group">
	    <input type="password" placeholder="Password" class="form-control">
	  </div>
	  <button type="submit" class="btn btn-success">Sign in</button>
	  </form> -->
	</div><!--/.navbar-collapse -->
      </div> <!--container-->
    </nav>
    <div>
            {% block content %}{% endblock %}
    </div>
    <hr />
    <div id="footer"><footer class="container">
      <p>&copy;  Database of Ring Theory 2014-{% now "Y" %}. <a href="{% url 'faq' %}">(Help)</a>  <span style="float:right;"><i class="glyphicon glyphicon-hand-right"></i> <a href="http://glyphicons.com/">Glyphicons</a></span></p>
        </footer>
    </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{% static 'js/bootstrap.min.js' %} "></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'assets/js/ie10-viewport-bug-workaround.js' %}"></script>
<script>
    var originalLeave = $.fn.popover.Constructor.prototype.leave;
$.fn.popover.Constructor.prototype.leave = function(obj){
  var self = obj instanceof this.constructor ?
    obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type)
  var container, timeout;

  originalLeave.call(this, obj);

  if(obj.currentTarget) {
    container = $(obj.currentTarget).siblings('.popover')
    timeout = self.timeout;
    container.one('mouseenter', function(){
      //We entered the actual popover â€“ call off the dogs
      clearTimeout(timeout);
      //Let's monitor popover content instead
      container.one('mouseleave', function(){
        $.fn.popover.Constructor.prototype.leave.call(self, self);
      });
    })
  }
};

var $aa = $('.showPopover');
$aa.popover({ trigger: 'click hover', html: true, placement: 'auto', delay: {show: 50, hide: 200}});
</script>
  <!-- JS code to fetch notif count -->
<script>
$(document).ready(function() {
    $.ajax({
        url: '{% url "live_unread_notification_count" %}',
        method: 'GET',
        success: function(data) {

            // assign the count to a variable
            var unreadNotifs = data['unread_notifications'];

            // put the count in the notifCount element
            $('#notifCount').html(unreadNotifs);
            if ( unreadNotifs == 0 ) {
                $('#notifCount').hide();
            }
        }
    });
});
</script>
  </body>
</html>
